import{u as k,r as v,w as x,o as y,a as s,c as t,b as n,t as b,F as p,d as m,e as M,v as U,s as B,f,g as L,M as P,h as d}from"./index-BM3S7LO8.js";const S=["onUpdate:modelValue"],V={__name:"UserItem",props:{user:{type:Object,required:!0}},setup(u){const a=k(),o=v({...u.user}),_=["read","create","update","delete"];function h(){const e={};for(const r of _)e[r]=o.permissions[r];return e}return x(o,e=>{a.updateUser({id:e.id,data:{email:e.email,permissions:e.permissions}})}),y(()=>{console.log("Mounted users")}),(e,r)=>(s(),t("tr",null,[n("td",null,b(u.user.email),1),(s(!0),t(p,null,m(h(),(l,c)=>(s(),t("td",{key:c},[M(n("input",{"onUpdate:modelValue":g=>o.permissions[c]=g,type:"checkbox"},null,8,S),[[U,o.permissions[c]]])]))),128))]))}},w={key:0},C=n("th",null,"email користувача",-1),D={key:1},N={__name:"UsersPage",setup(u){const a=k(),{usersList:i}=B(a),{loadUsersList:o}=a;return y(()=>{o()}),(_,h)=>(s(),f(P,null,{default:L(()=>{var e;return[n("div",null,[(e=d(i))!=null&&e.length?(s(),t("table",w,[n("tr",null,[C,(s(!0),t(p,null,m(d(i)[0].permissions,(r,l)=>(s(),t("th",{key:l},b(l),1))),128))]),(s(!0),t(p,null,m(d(i),r=>(s(),f(V,{key:r.id,user:r},null,8,["user"]))),128))])):(s(),t("div",D,"No users"))])]}),_:1}))}};export{N as default};
